<?xml version="1.0" encoding="UTF-8"?>
<!-- Compositor based flashlight for the walker -->
<!-- 1/2024 B. Hallinger -->
<PropertyList>
<light>
  <name>walker_flashlight</name>
  <type>spot</type>
  <position>
    <x-m><property>sim/walker/flashlight/pos-x-m</property></x-m>
    <y-m><property>sim/walker/flashlight/pos-y-m</property></y-m>
    <z-m><property>sim/walker/flashlight/pos-z-m</property></z-m>
  </position>
  <direction>
    <pitch-deg>90</pitch-deg>
    <roll-deg>0</roll-deg>
    <heading-deg>0</heading-deg>
  </direction>
  <ambient>
    <r><property>sim/walker/flashlight/color-red-factor</property></r>
    <g><property>sim/walker/flashlight/color-green-factor</property></g>
    <b><property>sim/walker/flashlight/color-blue-factor</property></b>
    <a>1</a>
  </ambient>
  <diffuse>
    <r><property>sim/walker/flashlight/color-red-factor</property></r>
    <g><property>sim/walker/flashlight/color-green-factor</property></g>
    <b><property>sim/walker/flashlight/color-blue-factor</property></b>
    <a>1</a>
  </diffuse>
  <specular>
    <r><property>sim/walker/flashlight/color-red-factor</property></r>
    <g><property>sim/walker/flashlight/color-green-factor</property></g>
    <b><property>sim/walker/flashlight/color-blue-factor</property></b>
    <a>1</a>
  </specular>
  <attenuation>
    <c>1.0</c>
    <l>0.09</l>
    <q>0.032</q>
  </attenuation>
  <dim-factor><property>sim/walker/flashlight/dim-factor</property></dim-factor>
  <spot-exponent>45</spot-exponent>
  <spot-cutoff>50</spot-cutoff>
  <range-m>10</range-m>
</light>
<animation>
  <type>select</type>
  <object-name>walker_flashlight</object-name>
  <condition>
    <and>
      <property>sim/walker/outside</property>
      <greater-than>
        <property>sim/walker/flashlight/mode</property>
        <value>0</value>
      </greater-than>
      <equals>
        <property>sim/current-view/name</property>
        <value>Walk View</value>
      </equals>
    </and>
  </condition>
</animation>
<animation>
  <type>translate</type>
  <object-name>walker_flashlight</object-name>
  <property>sim/walker/flashlight/pos-x-m</property>
  <axis>
    <x>1</x>
    <y>0</y>
    <z>0</z>
  </axis>
</animation>
<animation>
  <type>translate</type>
  <object-name>walker_flashlight</object-name>
  <property>sim/walker/flashlight/pos-y-m</property>
  <axis>
    <x>0</x>
    <y>1</y>
    <z>0</z>
  </axis>
</animation>
<animation>
  <type>translate</type>
  <object-name>walker_flashlight</object-name>
  <property>sim/walker/flashlight/pos-z-m</property>
  <axis>
    <x>0</x>
    <y>0</y>
    <z>1</z>
  </axis>
</animation>
<animation>
  <type>rotate</type>
  <object-name>walker_flashlight</object-name>
  <property>sim/current-view/pitch-offset-deg</property>
  <center>
    <x-m><property>sim/walker/flashlight/pos-x-m</property></x-m>
    <y-m><property>sim/walker/flashlight/pos-y-m</property></y-m>
    <z-m><property>sim/walker/flashlight/pos-z-m</property></z-m>
  </center>
  <axis>
    <x>0</x>
    <y>1</y>
    <z>0</z>
  </axis>
</animation> 
</PropertyList>
